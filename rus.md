Послушайте, я возлюбил типографику, как ближнего своего, может быть даже немного
больше. Когда появилось CSS-свойство, которое обещало решить проблемы с лигатурами
и аккуратно рассчитанным кернингом, не каким то дешёвым подобием, настоящим кернингом — 
я сразу бросился его изучать. Я добавил `text-rendering: optimizeLegibility` в
заголовки, тело статьи, ссылки; даже изображениям добавил, просто на всякий
случай, например, если лигатура попадется на фоне фотографии, размытая, как
неприлично довольный полтергейст.

Нет, правда, это были дни типографского винегрета; эра напичканная лигатурами *fi*,
*fft* и покорившей моё сердце *st*. Буквы слова «вода» так же плотно подгонялись
друг к другу как капли воды в потоке и я отчаянно искал причину написать AVAST в
верхнем регистре, что бы увидеть как будет написано слово с самым жутким
известным мне кернингом.

![Скриншот][Сравнение текста с разным значением свойства text-rendering]

*Разница между `text-rendering: optimizeLegibility` (слева) и `text-rendering: auto`
(справа) незначительна, даже если у вас изрядно наметан глаз.*

Подсознательно я однако понимаю, что новообретенные крылья из воска. Вся эта
типографская сила не достается просто так: `text-rendering: optimizeLegibility`
— медленное, и под «медленное» я имею, что оно способно всю страницу «положить»,
начиная от начального времени рендера и заканчивая временем перерисовки. Более
того, оно ещё и *глючное*: в частности в Android [серьезные проблемы][2] при
рендеринге страниц, на которых активно используется свойство `optimizeLegibility`,
особенно в [старых его версиях][3], которые, к сожалению, всё ещё широко
распространены.

Глюки не имеют большого значения, но вот проблемы со скоростью — имеют. Тысячи
мелких вычислительных процессов могут быть вовлечены в расчет кернинга больших
объемов текста и это создает серьезную нагрузку на процессор. В современном
десктопном браузере, например в Chrome, ну, [всё не очень][4], а на мобильных с
их слабым питанием это настоящий кошмар — особенно, когда дело доходит до
использования `@font-face`. Вся работа при использовании свойства
`optimizeLegibility` происходит ещё до того, как шрифт вообще можно отрендерить,
что выливается в чудовищно длительную [задержку в отрисовке текста][5] или
длительное [отображение текста шрифтом, назначенным для мягкой деградации][6],
в зависимости от способа, которым шрифты подгружаются.

![Иллюстрация][Таймлайн отображения страницы с разным значением свойства text-rendering]

*Таймлайн загрузки страницы созданный с помощью [WebPageTest.org][8] при
медленным соединении. Единственное отличие между страницами:
`p { text-rendering: optimizeLegibility; }` и `p { text-rendering: optimizeSpeed; }`*

Ключевым моментом, как вы, наверно, и ожидали, является умеренность. Использование
этих свойств на подзаголовках не нанесет серьезного вреда производительности;
*Заметного* вреда.

На самом деле и значение по умолчанию `text-rendering: auto` не всегда оставляет
нас совсем без использования лигатур и с таким расстоянием между буквами, что
там и грузовик проехать сможет. В Firefox (и возможно в скором времени
[WebKit][9] с Blink), `optimizeLegibility` включается для любого шрифта c
размером кегля `font-size: 20px` или более. На таком крупном тексте эффект
намного заметнее, и пара коротких строк текста не так уж сильно вредят
производительности, что бы это можно было заметить.

Конечно, если мы хотим полностью отключить это свойство, всегда есть значение
`text-rendering: optimizeSpeed`, которое сработает вне зависимости от кегля
шрифта и полностью исключит любую нагрузку, которая связана с использованием
`text-rendering`. Я почти всегда предпочитаю оставлять значение по умолчанию
`text-rendering: auto`, но если вы работаете со страницей на которой значительный
объем текста со значением `font-size` больше `20px`, возможно стоит попробовать
`text-rendering: optimizeSpeed`.


 [Сравнение текста с разным значением свойства text-rendering]: img/text-render_zoom.png "Сравнение текста с разным значением свойства text-rendering"
 [Таймлайн отображения страницы с разным значением свойства text-rendering]: img/wpt-text.png "Таймлайн отображения страницы с разным значением свойства text-rendering"

 [2]: http://stackoverflow.com/search?q=%5Bandroid%5D+optimizelegibility
 [3]: https://code.google.com/p/android/issues/detail?id=15067
 [4]: http://www.webpagetest.org/video/compare.php?tests=150429_5K_ZPS%2C150429_7C_ZPT&thumbSize=200&ival=1000&end=visual
 [5]: http://www.filamentgroup.com/lab/font-loading.html
 [6]: http://www.filamentgroup.com/lab/font-events.html
 [8]: http://webpagetest.org
 [9]: https://bugs.webkit.org/show_bug.cgi?id=41363
